(function(n,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n["react-autosave"]={},n.react))})(this,function(n,e){"use strict";function c(u,t){const[o,s]=e.useState(u);return e.useEffect(()=>{if(typeof window<"u"){const f=setTimeout(()=>{s(u)},t);return()=>{clearTimeout(f)}}},[u,t]),o}function r({data:u,onSave:t,interval:o=2e3,saveOnUnmount:s=!0}){const f=e.useRef(u),d=e.useRef(!0),i=e.useRef(t),l=c(u,o);e.useEffect(()=>{d.current?d.current=!1:i.current(l)},[l]),e.useEffect(()=>{f.current=u},[u]),e.useEffect(()=>{i.current=t},[t]),e.useEffect(()=>()=>{s&&i.current(f.current)},[s])}const p=({element:u=null,...t})=>(r(t),u);n.Autosave=p,n.useAutosave=r,n.useDebounce=c,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
